\documentclass[oneside]{article}


\usepackage{codeanatomy}


\usepackage{hyperref}

\author{Hong-Phuc Bui}
\title{Testseite von Code Anatomie}
\date{Sommer 2019}




\begin{document}


\begin{tikzpicture}[remember picture,x=1cm,y=1cm]
{[on background layer]\draw[code grid debug] (-3.5,-0.5) grid (5.5,4.5);}
\codeBlock{ %
\cPart{functionHead}{function \cPart{functionName}{gcd}\cPart{parameterList}{(p, q)}}\{ \\[2.5pt] %
\ptab{}\extremPoint{mostLeft}[most top]if (q === 0) \{\\
\ptab\ptab{}return p; \\
\ptab{}\} else \{\\
\ptab\ptab{}return gcd(q, p \% q);\extremPoint{mostRight}\\
\ptab{}\}\extremPoint{mostBottom}[most bottom]\\
\}
};

% \node(functionBody)[draw,code part,fit=(mostLeft) (mostRight) (mostBottom)] {};
\fitExtrem{functionBody}{(mostLeft) (mostRight) (mostBottom)}

% Anotation labels
\codeAnnotation{functionHeadText}(-1,3)  {Function\\Head}
\codeAnnotation{functionBodyText}(-1,1.5){Function\\Body}
\codeAnnotation{functionNameText}(1,4)   {Function Name}
\codeAnnotation{parameterListText} (4,4) {Paramter List}
% annotation labels to Code
\draw[->, annotation] (functionBodyText) -- (functionBody);
\draw[->, annotation] (functionHeadText) -- (functionHead);
\draw[->, annotation] (functionNameText) -- (functionName);
\draw[->, annotation] (parameterListText) -- (parameterList);
\end{tikzpicture}



\begin{tikzpicture}[remember picture,x=1cm,y=1cm]
{[on background layer]\draw[code grid debug] (-3.5,-0.5) grid (5.5,4.5);}
\codeBlock{ %
\cPart{functionHead}{function \cPart{functionName}{gcd}\cPart{parameterList}{(p, q)}} \{ \\[2.5pt] %
\cPart{functionBody}{%
\ptab{}if (q === 0) \{ \\
\ptab\ptab{}return p;\\
\ptab\} else \{ \\
\ptab\ptab{}return gcd(q,p \% q);\\
\ptab\}}\\
\}
}


% Anotation labels
\codeAnnotation{functionHeadText}(-1,3)  {Function\\Head}
\codeAnnotation{functionBodyText}(-1,1.5){Function\\Body}
\codeAnnotation{functionNameText}(1,4)   {Function Name}
\codeAnnotation{parameterListText} (4,4) {Paramter List}
% annotation labels to Code
\draw[->, annotation] (functionBodyText) -- (functionBody);
\draw[->, annotation] (functionHeadText) -- (functionHead);
\draw[->, annotation] (functionNameText) -- (functionName);
\draw[->, annotation] (parameterListText) -- (parameterList);
\end{tikzpicture}





\end{document}

